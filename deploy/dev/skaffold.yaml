apiVersion: skaffold/v2beta7
kind: Config
metadata:
  name: blockvisor-ui
build:
  tagPolicy:
    gitCommit: {}
  artifacts:
  - image: us-docker.pkg.dev/blockjoy-deployer/blockvisor-ui/blockvisor-ui
    context: ./
    docker:
      buildArgs:
        NEXT_PUBLIC_VERCEL_ENV: "{{.NEXT_PUBLIC_VERCEL_ENV}}"
        NEXT_PUBLIC_SUPPORT_EMAIL: "{{.NEXT_PUBLIC_SUPPORT_EMAIL}}"
        NEXT_PUBLIC_API_URL: "{{.NEXT_PUBLIC_API_URL}}"
        NEXT_PUBLIC_ORG_ID: "{{.NEXT_PUBLIC_ORG_ID}}"
        NEXT_PUBLIC_LOADING_DURATION: "{{.NEXT_PUBLIC_LOADING_DURATION}}"
        NPM_TOKEN : "{{.NPM_TOKEN}}"
  local: 
    push: true
    useDockerCLI: true
# profiles:
# - name: dev
#   deploy:
#     kustomize:
#       paths:
#         - ./kubernetes/dev
# - name: staging
#   deploy:
#     kustomize:
#       paths:
#         - ./kubernetes/staging
# - name: production
#   deploy:
#     kustomize:
#       paths:
#         - ./kubernetes/production

